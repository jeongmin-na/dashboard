# Cursor Teams API 관리 도구

Cursor Teams Admin API를 사용하여 팀원 정보와 사용량을 관리하는 Python 도구입니다.

## 기능

### 팀원 관리
- 전체 팀원 목록 조회
- 역할별 필터링 (소유자, 일반 멤버)
- 팀 통계 정보 확인
- 팀원 정보 리포트 저장

### 사용량 및 청구액 관리
- 전체 팀원 사용량 및 청구액 확인
- 특정 사용자 사용량 검색
- 일별 사용량 데이터 조회
- 기간별 사용량 분석
- **사용자별 사용 횟수 집계**: 특정 날짜 범위 내 동일 사용자의 사용 횟수 집계
- **사용자별 상세 활동 확인**: 특정 사용자 또는 전체 사용자의 모든 활동 상세 정보
- **상세 활동 정보 출력**: 상세 활동 정보를 CSV 형태로 콘솔에 출력

## 설치 및 실행

### 요구사항
- Python 3.11 이상
- Cursor Admin API 키

### 실행 방법
```bash
python cursor_teams_api.py
```

### API 키 설정
코드 내의 `API_KEY` 변수를 실제 API 키로 변경하세요:
```python
API_KEY = "key_your_actual_api_key_here"
```

## 사용법

### 메인 메뉴
1. **전체 팀원 보기**: 모든 팀원 정보 표시
2. **소유자만 보기**: 팀 소유자만 필터링
3. **일반 멤버만 보기**: 일반 멤버만 필터링
4. **역할별 필터링**: 특정 역할로 필터링
5. **팀 통계 보기**: 팀 통계 정보 표시
6. **전체 리포트 저장**: JSON 형태로 리포트 저장
7. **사용량 및 청구액 확인**: 사용량 및 비용 정보
8. **일별 사용량 확인**: 기간별 상세 사용량
9. **사용자별 사용 횟수 확인**: 특정 날짜 범위 내 사용자별 사용 횟수 집계
10. **사용자별 상세 활동 확인**: 사용자별 모든 활동 상세 정보
11. **특정 날짜 활동 내역 조회**: 선택한 날짜의 모든 사용자 활동을 표 형태로 상세 출력
  - 시간순 정렬된 활동 내역 테이블
  - 사용자별/모델별/활동유형별 통계
  - 실시간 토큰 사용량 및 요청 비용 확인
  - 콘솔에서 바로 확인 가능한 구조화된 데이터

### 사용량 확인 기능
- **전체 멤버 사용량**: 모든 팀원의 청구액 및 사용량
- **특정 사용자 사용량**: 이메일/이름으로 검색
- **일별 사용량**: 날짜 범위 지정 가능
  - 날짜 미입력 시: 이번 달 1일부터 오늘까지
  - 날짜 형식: YYYY-MM-DD
- **사용자별 사용 횟수**: 날짜 범위 내 동일 사용자의 총 사용 횟수 집계
  - 사용자별 총 요청 수와 사용 횟수 표시
  - 팀 전체 통계 및 가장 활발한 사용자 정보 제공
- **사용자별 상세 활동**: 특정 사용자 또는 전체 사용자의 모든 활동 상세 정보
  - 날짜별 활동 상세 정보
  - 모델별 사용 통계
  - 활동 유형별 통계
  - 토큰 사용량 및 요청 수 상세 분석
- **상세 활동 정보 출력**: 모든 상세 활동 정보를 CSV 형태로 콘솔에 출력
  - 상세 활동 데이터 CSV 형태 출력
  - 요약 통계 출력 (사용자별, 모델별, 활동유형별 통계)
  - 콘솔에서 바로 확인 가능한 구조화된 데이터

## API 엔드포인트

이 도구는 다음 Cursor Admin API 엔드포인트를 사용합니다:
- `GET /teams/members`: 팀원 정보 조회
- `POST /teams/spend`: 사용량 및 청구액 조회
- `POST /teams/daily-usage-data`: 일별 사용량 데이터 조회

## 파일 구조

```
test_0724/
├── cursor_teams_api.py    # 메인 프로그램
├── README.md              # 프로젝트 설명
└── admin_api.txt          # API 문서
```

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 기여

버그 리포트나 기능 제안은 GitHub Issues를 통해 제출해주세요. 